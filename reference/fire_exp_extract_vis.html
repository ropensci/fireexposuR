<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visualize exposure to values in a summary table or map — fire_exp_extract_vis • fireexposuR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize exposure to values in a summary table or map — fire_exp_extract_vis"><meta name="description" content="fire_exp_extract_vis() standardizes the visualization of
outputs from fire_exp_extract() as a summary table or a map by classifying
exposure into predetermined exposure classes."><meta property="og:description" content="fire_exp_extract_vis() standardizes the visualization of
outputs from fire_exp_extract() as a summary table or a map by classifying
exposure into predetermined exposure classes."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fireexposuR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fireexposuR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/prep-input-data.html">Preparing input data</a></li>
    <li><a class="dropdown-item" href="../articles/prometheus.html">Prometheus users</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">resources</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/heyairf/fireexposuR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visualize exposure to values in a summary table or map</h1>
      <small class="dont-index">Source: <a href="https://github.com/heyairf/fireexposuR/blob/main/R/fire_exp_extract_vis.R" class="external-link"><code>R/fire_exp_extract_vis.R</code></a></small>
      <div class="d-none name"><code>fire_exp_extract_vis.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>fire_exp_extract_vis()</code> standardizes the visualization of
outputs from <code><a href="fire_exp_extract.html">fire_exp_extract()</a></code> as a summary table or a map by classifying
exposure into predetermined exposure classes.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fire_exp_extract_vis</span><span class="op">(</span></span>
<span>  <span class="va">values_ext</span>,</span>
<span>  classify <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"local"</span>, <span class="st">"landscape"</span>, <span class="st">"custom"</span><span class="op">)</span>,</span>
<span>  <span class="va">class_breaks</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"max"</span>, <span class="st">"mean"</span><span class="op">)</span>,</span>
<span>  map <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">zoom_level</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Classified Exposure to Values"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-values-ext">values_ext<a class="anchor" aria-label="anchor" href="#arg-values-ext"></a></dt>
<dd><p>Spatvector of points or polygons from <code><a href="fire_exp_extract.html">fire_exp_extract()</a></code></p></dd>


<dt id="arg-classify">classify<a class="anchor" aria-label="anchor" href="#arg-classify"></a></dt>
<dd><p>character, either <code>"local"</code>, <code>"landscape"</code>, or <code>"custom"</code>,
to specify classification scheme to use. The default is <code>"local"</code>. If set to
<code>"custom"</code>: the parameter <code>class_breaks</code> must be used.</p></dd>


<dt id="arg-class-breaks">class_breaks<a class="anchor" aria-label="anchor" href="#arg-class-breaks"></a></dt>
<dd><p>vector of numeric values between 0-1. Ignored unless
<code>classify = "custom"</code>. See details.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>character, either <code>"max"</code> or <code>"mean"</code>. If <code>values_ext</code> are
polygons the default is <code>"max"</code>.This parameter is ignored when <code>values_ext</code>
are point features.</p></dd>


<dt id="arg-map">map<a class="anchor" aria-label="anchor" href="#arg-map"></a></dt>
<dd><p>Boolean. When <code>TRUE</code>, a map is returned as a ggplot object. The
default is <code>FALSE</code>.</p></dd>


<dt id="arg-zoom-level">zoom_level<a class="anchor" aria-label="anchor" href="#arg-zoom-level"></a></dt>
<dd><p>(Optional). Numeric. Ignored when <code>map = FALSE</code>. set the
zoom level for the base map tile. See details. Defaults if:</p><ul><li><p><code>classify = "local"</code> or <code>"custom"</code> the zoom level default is <code>12</code></p></li>
<li><p><code>classify = "landscape"</code> the zoom level default is <code>7</code></p></li>
</ul></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>(Optional) String. Ignored when <code>map = FALSE</code>. A custom title
for the plot. The default is <code>"Classified Exposure to Values"</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a summary table is returned as a data frame object, Unless:
<code>map = TRUE</code>: a ggplot object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function visualizes the outputs from <code><a href="fire_exp_extract.html">fire_exp_extract()</a></code> with classes.
Classes can be chosen from the pre-set <code>"local"</code> and <code>"landscape"</code> options,
or customized. To use a custom classification scheme, it should be defined
with a list of numeric vectors defining the upper limits of the breaks. A
Nil class is added automatically for exposure values of exactly zero.</p>
<p>Local classification breaks are predefined as <code>c(0.15, 0.3, 0.45, 1)</code>:</p><ul><li><p>Nil (0)</p></li>
<li><p>0 - 0.15</p></li>
<li><p>0.15 - 0.3</p></li>
<li><p>0.3 - 0.45</p></li>
<li><p>0.45 - 1</p></li>
</ul><p>#' Landscape classification breaks are predefined
as <code>c(0.2, 0.4, 0.6, 0.8, 1)</code>:</p><ul><li><p>Nil (0)</p></li>
<li><p>0 - 0.2</p></li>
<li><p>0.2 - 0.4</p></li>
<li><p>0.4 - 0.6</p></li>
<li><p>0.6 - 0.8</p></li>
<li><p>0.8 - 1</p></li>
</ul><div class="section">
<h3 id="spatial-reference">Spatial reference<a class="anchor" aria-label="anchor" href="#spatial-reference"></a></h3>


<p>This function dynamically pulls map tiles for a base map when <code>map = TRUE</code>.
The inputs are projected to WGS 84/Pseudo-Mercator
(<a href="https://epsg.io/3857" class="external-link">EPSG:3857</a>) to align them with the map tiles.</p>
</div>

<div class="section">
<h3 id="zoom-level">Zoom level<a class="anchor" aria-label="anchor" href="#zoom-level"></a></h3>


<p>The map tile zoom level may need to be adjusted. If the base map is blurry,
increase the zoom level. Higher zoom levels will slow down the function, so
only increase if necessary. Reference the
<a href="https://wiki.openstreetmap.org/wiki/Zoom_levels" class="external-link">OpenStreetMap Wiki</a> for
more information on zoom levels.</p>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># read example hazard data</span></span></span>
<span class="r-in"><span><span class="va">hazard_file_path</span> <span class="op">&lt;-</span> <span class="st">"extdata/hazard.tif"</span></span></span>
<span class="r-in"><span><span class="va">hazard</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="va">hazard_file_path</span>, package <span class="op">=</span> <span class="st">"fireexposuR"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># read example area of interest geometry</span></span></span>
<span class="r-in"><span><span class="va">geom_file_path</span> <span class="op">&lt;-</span> <span class="st">"extdata/polygon_geometry.csv"</span></span></span>
<span class="r-in"><span><span class="va">geom</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="va">geom_file_path</span>, package <span class="op">=</span> <span class="st">"fireexposuR"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate an area of interest polygon with the geometry</span></span></span>
<span class="r-in"><span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/coerce.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">geom</span><span class="op">)</span>, <span class="st">"polygons"</span>, crs <span class="op">=</span> <span class="va">hazard</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate random points within the aoi polygon</span></span></span>
<span class="r-in"><span><span class="va">points</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/sample.html" class="external-link">spatSample</a></span><span class="op">(</span><span class="va">aoi</span>, <span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># compute exposure</span></span></span>
<span class="r-in"><span><span class="va">exposure</span> <span class="op">&lt;-</span> <span class="fu"><a href="fire_exp.html">fire_exp</a></span><span class="op">(</span><span class="va">hazard</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">values_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="fire_exp_extract.html">fire_exp_extract</a></span><span class="op">(</span><span class="va">exposure</span>, <span class="va">points</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># summarize example points in a table</span></span></span>
<span class="r-in"><span><span class="fu">fire_exp_extract_vis</span><span class="op">(</span><span class="va">values_exp</span>, classify <span class="op">=</span> <span class="st">"local"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   scale method class_range   n  prop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 local  Point         Nil   1 0.005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 local  Point    0 - 0.15   5 0.025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 local  Point  0.15 - 0.3  27 0.135</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 local  Point  0.3 - 0.45  34 0.170</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 local  Point    0.45 - 1 133 0.665</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># visualize example points in standardized map</span></span></span>
<span class="r-in"><span><span class="fu">fire_exp_extract_vis</span><span class="op">(</span><span class="va">values_exp</span>, map <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fire_exp_extract_vis-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Air Forbes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

