<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Validate exposure with observed fires — fire_exp_validate • fireexposuR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Validate exposure with observed fires — fire_exp_validate"><meta name="description" content="For advanced users. fire_exp_validate() compares the
proportion of exposure classes in a the study area to the proportion of
exposure classes within observed burned areas."><meta property="og:description" content="For advanced users. fire_exp_validate() compares the
proportion of exposure classes in a the study area to the proportion of
exposure classes within observed burned areas."><meta property="og:image" content="https://heyairf.github.io/fireexposuR/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fireexposuR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fireexposuR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/prep-input-data.html">Preparing input data</a></li>
    <li><a class="dropdown-item" href="../articles/prometheus.html">Prometheus users</a></li>
    <li><a class="dropdown-item" href="../articles/resources.html">resources</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/heyairf/fireexposuR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Validate exposure with observed fires</h1>
      <small class="dont-index">Source: <a href="https://github.com/heyairf/fireexposuR/blob/main/R/fire_exp_validate.R" class="external-link"><code>R/fire_exp_validate.R</code></a></small>
      <div class="d-none name"><code>fire_exp_validate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>For advanced users. <code>fire_exp_validate()</code> compares the
proportion of exposure classes in a the study area to the proportion of
exposure classes within observed burned areas.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fire_exp_validate</span><span class="op">(</span></span>
<span>  <span class="va">burnableexposure</span>,</span>
<span>  <span class="va">fires</span>,</span>
<span>  <span class="va">aoi</span>,</span>
<span>  class_breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  samplesize <span class="op">=</span> <span class="fl">0.005</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-burnableexposure">burnableexposure<a class="anchor" aria-label="anchor" href="#arg-burnableexposure"></a></dt>
<dd><p>A SpatRaster of exposure, non-burnable cells should
be removed using optional parameter <code>no_burn = </code>in <code><a href="fire_exp.html">fire_exp()</a></code>.</p></dd>


<dt id="arg-fires">fires<a class="anchor" aria-label="anchor" href="#arg-fires"></a></dt>
<dd><p>A SpatVector of observed fire perimeters</p></dd>


<dt id="arg-aoi">aoi<a class="anchor" aria-label="anchor" href="#arg-aoi"></a></dt>
<dd><p>(Optional) A SpatVector that delineates an area of interest</p></dd>


<dt id="arg-class-breaks">class_breaks<a class="anchor" aria-label="anchor" href="#arg-class-breaks"></a></dt>
<dd><p>(Optional) vector of numeric values between 0-1 of the
upper limits of each class. The default is <code>c(0.2, 0.4, 0.6, 0.8, 1)</code>. See
details.</p></dd>


<dt id="arg-samplesize">samplesize<a class="anchor" aria-label="anchor" href="#arg-samplesize"></a></dt>
<dd><p>Proportion of areas to sample. The default is <code>0.005</code>
(0.5%)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a table of number of cells (n) and proportions (prop) of exposure
classes within a sampled area (Sample) and across the full extent (Total).for
the full extent of the exposure data (expected) and only within the burned
areas (observed).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function automates a simple validation method to assess if fire burns
preferentially in areas with high exposure. The methods, and figure produced
with <code><a href="fire_exp_validate_plot.html">fire_exp_validate_plot()</a></code>, are based on Beverly et al. (2021).</p>
<p>The function requires an exposure raster produced for a past point in time.
Cells that cannot burn, or do not represent natural land cover should be
removed by setting the <code>no_burn</code> parameter in <code><a href="fire_exp.html">fire_exp()</a></code> or
<code><a href="fire_exp_adjust.html">fire_exp_adjust()</a></code>.</p>
<p>The function also requires fire perimeter data. Currently, the function takes
the fires as a Vector of polygons because that is typically how fire
boundaries are stored in spatial databases. The fires input data should
include all of the burned area that has occurred following the time period
the input exposure layer was produced for. It is up to the user to determine
the appropriate amount of burned area required for a meaningful assessment.</p>
<p>A random sample is taken to account for spatial autocorrelation, the
sampled location results can be used to test for significant differences.
The sample size can be adjusted. The sample size represents a proportion of
cells, the default is <code>0.005</code> (0.5%). It is the user's responsibility to set
an appropriate sample size.</p>
<p>The class breaks can be customized from the default of 0.2 intervals by
setting the <code>class_breaks</code> parameter. A class of Nil is automatically added
for values exactly equal to 0.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Beverly JL, McLoughlin N, Chapman E (2021) A simple metric of landscape
fire exposure. <em>Landscape Ecology</em> <strong>36</strong>, 785-801.
<a href="https://doi.org/10.1007/s10980-020-01173-8" class="external-link">DOI</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="fire_exp_validate_plot.html">fire_exp_validate_plot()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># read example hazard data</span></span></span>
<span class="r-in"><span><span class="va">hazard_file_path</span> <span class="op">&lt;-</span> <span class="st">"extdata/hazard.tif"</span></span></span>
<span class="r-in"><span><span class="va">hazard</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="va">hazard_file_path</span>, package <span class="op">=</span> <span class="st">"fireexposuR"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate example non-burnable cells data</span></span></span>
<span class="r-in"><span><span class="va">geom_file_path</span> <span class="op">&lt;-</span> <span class="st">"extdata/polygon_geometry.csv"</span></span></span>
<span class="r-in"><span><span class="va">geom</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="va">geom_file_path</span>, package <span class="op">=</span> <span class="st">"fireexposuR"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">polygon</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/coerce.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">geom</span><span class="op">)</span>, <span class="st">"polygons"</span>, crs <span class="op">=</span> <span class="va">hazard</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">no_burn</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rasterize.html" class="external-link">rasterize</a></span><span class="op">(</span><span class="va">polygon</span>, <span class="va">hazard</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate example fire polygons by buffering random points</span></span></span>
<span class="r-in"><span><span class="va">points</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/sample.html" class="external-link">spatSample</a></span><span class="op">(</span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rescale.html" class="external-link">rescale</a></span><span class="op">(</span><span class="va">hazard</span>, <span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                            <span class="fl">30</span>, as.points <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fires</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/buffer.html" class="external-link">buffer</a></span><span class="op">(</span><span class="va">points</span>, <span class="fl">800</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># PLEASE NOTE THIS EXAMPLE DATA DOES NOT GENERATE MEANINGFUL RESULTS</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># compute exposure and remove non-burnable cells</span></span></span>
<span class="r-in"><span><span class="va">exposure</span> <span class="op">&lt;-</span> <span class="fu"><a href="fire_exp.html">fire_exp</a></span><span class="op">(</span><span class="va">hazard</span>, no_burn <span class="op">=</span> <span class="va">no_burn</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># validation table</span></span></span>
<span class="r-in"><span><span class="fu">fire_exp_validate</span><span class="op">(</span><span class="va">exposure</span>, <span class="va">fires</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    exposure  exp_vals     of    group     n       prop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         0       Nil  Total Expected  2464 0.02568272</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         1   0 - 0.2  Total Expected 11679 0.12173233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         2 0.2 - 0.4  Total Expected 12922 0.13468835</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         3 0.4 - 0.6  Total Expected 14912 0.15543048</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         4 0.6 - 0.8  Total Expected 18595 0.19381905</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         5   0.8 - 1  Total Expected 35368 0.36864707</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         0       Nil  Total Observed   262 0.04448973</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         1   0 - 0.2  Total Observed   709 0.12039395</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         2 0.2 - 0.4  Total Observed   647 0.10986585</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        3 0.4 - 0.6  Total Observed   811 0.13771438</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        4 0.6 - 0.8  Total Observed  1237 0.21005264</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        5   0.8 - 1  Total Observed  2223 0.37748344</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        0       Nil Sample Expected     8 0.01666667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        1   0 - 0.2 Sample Expected    58 0.12083333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        2 0.2 - 0.4 Sample Expected    76 0.15833333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16        3 0.4 - 0.6 Sample Expected    81 0.16875000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17        4 0.6 - 0.8 Sample Expected    87 0.18125000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18        5   0.8 - 1 Sample Expected   170 0.35416667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19        0       Nil Sample Observed     1 0.03448276</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20        1   0 - 0.2 Sample Observed     2 0.06896552</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21        2 0.2 - 0.4 Sample Observed     5 0.17241379</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22        3 0.4 - 0.6 Sample Observed     4 0.13793103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23        4 0.6 - 0.8 Sample Observed     8 0.27586207</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24        5   0.8 - 1 Sample Observed     9 0.31034483</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Air Forbes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

