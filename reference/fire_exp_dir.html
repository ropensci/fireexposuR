<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Conduct a directional exposure assessment — fire_exp_dir • fireexposuR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conduct a directional exposure assessment — fire_exp_dir"><meta name="description" content="fire_exp_dir() returns a SpatVector of linear transects toward
a value. Transects are assessed as viable wildfire pathways by intersecting
them with areas of high exposure."><meta property="og:description" content="fire_exp_dir() returns a SpatVector of linear transects toward
a value. Transects are assessed as viable wildfire pathways by intersecting
them with areas of high exposure."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fireexposuR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fireexposuR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/prep-input-data.html">Preparing input data</a></li>
    <li><a class="dropdown-item" href="../articles/prometheus.html">Prometheus users</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/heyairf/fireexposuR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Conduct a directional exposure assessment</h1>
      <small class="dont-index">Source: <a href="https://github.com/heyairf/fireexposuR/blob/main/R/fire_exp_dir.R" class="external-link"><code>R/fire_exp_dir.R</code></a></small>
      <div class="d-none name"><code>fire_exp_dir.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>fire_exp_dir()</code> returns a SpatVector of linear transects toward
a value. Transects are assessed as viable wildfire pathways by intersecting
them with areas of high exposure.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fire_exp_dir</span><span class="op">(</span></span>
<span>  <span class="va">exposure</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  t_lengths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5000</span>, <span class="fl">5000</span>, <span class="fl">5000</span><span class="op">)</span>,</span>
<span>  interval <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thresh_exp <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>  thresh_viable <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  table <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-exposure">exposure<a class="anchor" aria-label="anchor" href="#arg-exposure"></a></dt>
<dd><p>SpatRaster (e.g. from <code><a href="fire_exp.html">fire_exp()</a></code>)</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>Spatvector of value as a point or simplified polygon</p></dd>


<dt id="arg-t-lengths">t_lengths<a class="anchor" aria-label="anchor" href="#arg-t-lengths"></a></dt>
<dd><p>(Optional) A vector of three numeric values. The length of
each transect starting from the value in meters. The default is
<code>c(5000, 5000, 5000)</code>.</p></dd>


<dt id="arg-interval">interval<a class="anchor" aria-label="anchor" href="#arg-interval"></a></dt>
<dd><p>(Optional) Numeric. The degree interval at which to draw
the transects for analysis. Can be one of 0.5, 1, 2, 3, 4, 5, 6, 8, or 10.
The default is <code>1</code>.</p></dd>


<dt id="arg-thresh-exp">thresh_exp<a class="anchor" aria-label="anchor" href="#arg-thresh-exp"></a></dt>
<dd><p>(optional) Numeric. The exposure value to use to define
high exposure as a proportion. Must be between 0-1. The default is <code>0.6</code>.</p></dd>


<dt id="arg-thresh-viable">thresh_viable<a class="anchor" aria-label="anchor" href="#arg-thresh-viable"></a></dt>
<dd><p>(optional) Numeric. The minimum intersection of a
transect with a high exposure patch to be defined as a viable pathway as
a proportion. Must be between 0-1. The default is <code>0.8</code>.</p></dd>


<dt id="arg-table">table<a class="anchor" aria-label="anchor" href="#arg-table"></a></dt>
<dd><p>Boolean, when <code>TRUE</code>: returns a table instead of a feature. The
default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a SpatVector of the transects with the attributes: 'deg' = degree,
'seg' = segment, and 'viable'. The transects will be returned with the same
CRS as the input features.</p>
<p>If <code>table = TRUE</code>: a data frame is returned instead with an additional
attribute 'wkt', which is a Well Known Text (WKT) string of transect
geometries (coordinate reference system: WGS84).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>fire_exp_dir()</code> automates the directional vulnerability assessment
methods documented in Beverly and Forbes (2023). This analysis is used to
assess linear wildfire vulnerability on the landscape in a systematic radial
sampling pattern. This is a landscape scale process, so the exposure raster
used should also be landscape scale. Use <code>tdist = "l"</code> when preparing data
with <code><a href="fire_exp.html">fire_exp()</a></code> for use with this function. See <code><a href="fire_exp.html">fire_exp()</a></code> details
for more information.</p>
<p>The output line features will have the attribute 'viable'
which can be used to visualize the pathways. Outputs can be visualized with
<code><a href="fire_exp_dir_plot.html">fire_exp_dir_plot()</a></code>, <code><a href="fire_exp_dir_map.html">fire_exp_dir_map()</a></code>, or exported as a spatial
feature.</p><div class="section">
<h3 id="spatial-reference">Spatial Reference<a class="anchor" aria-label="anchor" href="#spatial-reference"></a></h3>


<p>The inputs for the exposure and value layer must have the same coordinate
reference system (CRS) defined. The transects will be returned in the same
CRS as the inputs.</p>
<p>This function draws the transects by calculating the end point of a
transect by finding the shortest path along the WGS84
(<a href="https://epsg.io/5326" class="external-link">EPSG:4326</a>) ellipsoid at a given bearing and
distance. The <code>value</code> input is reprojected from the input CRS to latitude and
longitude using WGS84 for the calculations. After the transects are created,
they are projected to match the CRS of the input exposure and value layer.
The lengths of the projected transects will be effected by the scale factor
of the input CRS; however, the geodesic lengths are maintained.</p>
</div>

<div class="section">
<h3 id="value-feature">Value feature<a class="anchor" aria-label="anchor" href="#value-feature"></a></h3>


<p>The value feature can be provided as a point or a simplified polygon.</p>
<p>If using a point feature the analysis can be sensitive to the placement
of a point. For example, if using a point to represent a large town a
point placed at the centroid will likely have different outputs than a
point placed at the edge of the community due to the arrangement of lower
exposure values typical of a built environment.</p>
<p>An option to use a simplified polygon has been added to this function for
values that may be too large to represent with a single point. The polygon
should be drawn with the consideration of the following or the function
will not be able to run. The polygon must be a single part polygon with no
holes. The polygon should have a smooth and simple shape, ideally circular
or ellipsoidal. The polygon should also have an approximate radius of less
than 5000 meters from the center. If the area of interest is larger than
this then consider using multiple assessments.</p>
</div>

<div class="section">
<h3 id="default-values">Default Values<a class="anchor" aria-label="anchor" href="#default-values"></a></h3>


<p>The default values are based on the methods used and validated in Alberta,
Canada by Beverly and Forbes (2023). Options have been added to the
function to allow these values to be adjusted by the user if required.
Adjusting these values can lead to unexpected and uncertain results.</p>
</div>

<div class="section">
<h3 id="adjusting-the-transects">Adjusting the transects<a class="anchor" aria-label="anchor" href="#adjusting-the-transects"></a></h3>


<p>The drawing of the transects can be customized by varying the intervals and
segment lengths if desired. Adjustments to the <code>interval</code> and <code>t_lengths</code>
parameters will effect how much of the exposure data is being captured by
the transects. If both parameters are being adjusted some trigonometry might
be required to find the optimal combination of the parameters to ensure
distances between the transects make sense for the intended application. The
resolution of the exposure raster may also be a factor in these decisions.</p><div class="section">
<h4 id="interval">Interval<a class="anchor" aria-label="anchor" href="#interval"></a></h4>


<p>The interval parameter defines how many transects are drawn. The default of
<code>1</code> draws a transect at every whole degree from 1-360. This outputs a total
of 1080 transects, 360 for each segment. Increasing the interval will
output less transects and process faster. When the interval is
increased, the distance between the ends of the transects will also be
increased. For example: the terminus of 15000 meter transects (the default)
drawn every 1 degree (the default) will be approximately 250 meters apart,
but if drawn at 10 degree intervals will be approximately 2500 meters
apart. Larger intervals will increase speed and processing time, but might
not capture potential pathways between transects farther from the value.</p>
</div>

<div class="section">
<h4 id="lengths">Lengths<a class="anchor" aria-label="anchor" href="#lengths"></a></h4>


<p>The t_lengths parameter allows a custom distance to be defined for the three
transect segments in meters. Lengths can be increased or decreased. The
segments can also be different lengths if desired.</p>
</div>


</div>

<div class="section">
<h3 id="adjusting-the-thresholds">Adjusting the thresholds<a class="anchor" aria-label="anchor" href="#adjusting-the-thresholds"></a></h3>


<p>Threshold adjustments should only be considered if validation within the
area of interest have been done. The function <code><a href="fire_exp_validate.html">fire_exp_validate()</a></code> has been
included with this package to make the process easier, but still requires
significant time, data, and understanding.</p><div class="section">
<h4 id="high-exposure">High exposure<a class="anchor" aria-label="anchor" href="#high-exposure"></a></h4>


<p>The <code>thresh_exp</code> parameter can be adjusted to define the minimum exposure
value to be considered for the directional assessment. The default value of
<code>0.6</code> is based on the findings of Beverly et al. (2021) who showed that
observed fires burned preferentially in areas where wildfire exposure values
exceed 60%. Adjusting this value is only recommended after a validation of
wildfire exposure has been conducted in the area of interest.</p>
</div>

<div class="section">
<h4 id="viability">Viability<a class="anchor" aria-label="anchor" href="#viability"></a></h4>


<p>The <code>thresh_viable</code> parameter defines the minimum intersection with high
exposure areas to be considered a viable pathway. The default value of
<code>0.8</code> was determined by Beverly and Forbes (2023) by drawing continuous
linear transects within burned areas to represent observed pathways. It was
found that the average intersection with patches of pre-fire high exposure
was 80%. This methodology could be repeated in the users area of interest.</p>
</div>


</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Beverly JL, Forbes AM (2023) Assessing directional vulnerability to
wildfire. <em>Natural Hazards</em> <strong>117</strong>, 831-849.
<a href="https://doi.org/10.1007/s11069-023-05885-3" class="external-link">DOI</a></p>
<p>Beverly JL, McLoughlin N, Chapman E (2021) A simple metric of landscape
fire exposure. <em>Landscape Ecology</em> <strong>36</strong>, 785-801.
<a href="https://doi.org/10.1007/s10980-020-01173-8" class="external-link">DOI</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># read example hazard data</span></span></span>
<span class="r-in"><span><span class="va">hazard_file_path</span> <span class="op">&lt;-</span> <span class="st">"extdata/hazard.tif"</span></span></span>
<span class="r-in"><span><span class="va">hazard</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="va">hazard_file_path</span>, package <span class="op">=</span> <span class="st">"fireexposuR"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate an example point</span></span></span>
<span class="r-in"><span><span class="va">point_wkt</span> <span class="op">&lt;-</span> <span class="st">"POINT (400000 6050000)"</span></span></span>
<span class="r-in"><span><span class="va">point</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">point_wkt</span>, crs <span class="op">=</span> <span class="va">hazard</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># compute exposure metric</span></span></span>
<span class="r-in"><span><span class="va">exposure</span> <span class="op">&lt;-</span> <span class="fu"><a href="fire_exp.html">fire_exp</a></span><span class="op">(</span><span class="va">hazard</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># assess directional exposure</span></span></span>
<span class="r-in"><span><span class="fu">fire_exp_dir</span><span class="op">(</span><span class="va">exposure</span>, <span class="va">point</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  class       : SpatVector </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  geometry    : lines </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  dimensions  : 1080, 3  (geometries, attributes)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  extent      : 385010.1, 414989.5, 6035010, 6064990  (xmin, xmax, ymin, ymax)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  coord. ref. : NAD83 / Alberta 10-TM (Forest) (EPSG:3400) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  names       :   deg   seg viable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  type        : &lt;num&gt; &lt;chr&gt;  &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  values      :     1  seg1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    1  seg2      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    1  seg3      0</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Air Forbes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

